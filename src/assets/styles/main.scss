// --- src/assets/styles/main.scss ---

// 1. Import custom variables first using @use
@use 'variables' as v;
// 8. Import your custom animations using @use
@use 'animations';

// 2. Import Bootstrap functions and default variables
@import "bootstrap/scss/functions";

// 3. --- IMPORTANT: Define Bootstrap variable overrides HERE ---
$primary: v.$primary;
$secondary: v.$secondary;
$success: v.$success;
$info: v.$info;
$warning: v.$warning;
$danger: v.$danger;
$light: v.$light;
$dark: v.$dark;

$body-bg: v.$body-bg;
$body-color: v.$body-color;
$border-color: v.$border-color;
$card-bg: v.$card-bg;
$card-cap-bg: v.$card-cap-bg;
$input-bg: v.$input-bg;
$input-border-color: v.$input-border-color;

$font-family-sans-serif: v.$font-family-sans-serif;
$font-weight-normal: v.$font-weight-normal;
$font-weight-medium: v.$font-weight-medium;
$font-weight-bold: v.$font-weight-bold;

$border-radius: v.$border-radius;
$border-radius-sm: v.$border-radius-sm;
$border-radius-lg: v.$border-radius-lg;
// NOTE: Check if $border-radius-xl is used anywhere. If yes, define it here:
// $border-radius-xl: v.$border-radius-xl;

$box-shadow-sm: v.$box-shadow-sm;
$box-shadow: v.$box-shadow;
$box-shadow-lg: v.$box-shadow-lg;

// NOTE: If Font Awesome is imported via SCSS, add the import here.
// The $fa-font-formats variable in _variables.scss only affects SCSS imports.

// Map necessary z-indices if Bootstrap requires overrides here
// $z-index-dropdown: map-get(v.$z-indices, dropdown);
// ... other z-indices

// 4. Import remaining Bootstrap core files (using your overrides)
@import "bootstrap/scss/variables";
@import "bootstrap/scss/variables-dark";
@import "bootstrap/scss/maps";
@import "bootstrap/scss/mixins";
@import "bootstrap/scss/utilities";

// 5. Import Layout & Components (Selectively)
@import "bootstrap/scss/root";
@import "bootstrap/scss/reboot";
@import "bootstrap/scss/type";
@import "bootstrap/scss/images";
@import "bootstrap/scss/containers";
@import "bootstrap/scss/grid";
@import "bootstrap/scss/forms";
@import "bootstrap/scss/buttons";
@import "bootstrap/scss/transitions";
@import "bootstrap/scss/dropdown";
@import "bootstrap/scss/button-group";
@import "bootstrap/scss/nav";
@import "bootstrap/scss/navbar";
@import "bootstrap/scss/card";
@import "bootstrap/scss/alert";
@import "bootstrap/scss/progress";
@import "bootstrap/scss/list-group";
@import "bootstrap/scss/close";
@import "bootstrap/scss/modal";
@import "bootstrap/scss/badge";
@import "bootstrap/scss/spinners";
@import "bootstrap/scss/toasts";

// 6. Import Helpers
@import "bootstrap/scss/helpers";

// 7. Import Utilities API last
@import "bootstrap/scss/utilities/api";

// --- Your Customizations ---

// 9. Your custom global styles
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  background-color: $body-bg;
  color: $body-color;
  font-family: $font-family-sans-serif;
}

// Custom spacing classes for navbar spacing
.app-main-content {
  padding-top: 4rem; // Default for mobile (adjust if navbar height differs)
  padding-bottom: 4rem; // Default for mobile (adjust if bottom nav height differs)

  @include media-breakpoint-up(lg) {
    padding-top: 4.5rem; // Adjust if navbar height differs
    padding-bottom: 0;
  }
}

// Custom viewport height classes
.min-vh-100-subtract-nav {
  min-height: calc(100vh - 8rem); // Adjust based on navbar/bottom nav heights
  @include media-breakpoint-up(lg) {
    min-height: calc(100vh - 4.5rem); // Adjust based on navbar height
  }
}

// Apply hover styles using Bootstrap variables
.card {
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  &:hover {
    transform: translateY(-2px);
    box-shadow: $box-shadow-lg !important;
  }
}

.btn {
  transition: all 0.2s ease-in-out;
  &:hover { transform: translateY(-1px); }
  &:active { transform: translateY(0); }
}

.badge {
  font-weight: $font-weight-medium;
}

// Your custom utility classes (if needed beyond Bootstrap)
// REMOVED: .fs-7 { font-size: 0.875rem !important; } // Use Bootstrap's .fs-sm or adjust BS $font-sizes map
.text-decoration-underline-hover:hover {
  text-decoration: underline !important;
}
// REMOVED: gap-* classes - Use Bootstrap's gap utilities

.shadow-hover {
  transition: box-shadow 0.2s ease-in-out;
  &:hover {
    box-shadow: $box-shadow-lg !important;
  }
}

// Vibrant blue for attention-grabbing text
.text-vibrant {
  color: v.$primary !important; // Use variable
}

// Muted gray for less prominent text
.text-muted {
  color: v.$secondary !important; // Use variable
}

// Accent teal for highlights or links
.text-accent {
  color: #14b8a6 !important; // Teal accent
}

// Soft neutral for subtle UI elements
.text-soft {
  color: #94a3b8 !important; // Soft blue-gray
}

// Custom small alert (consider using Bootstrap's default alert with utility classes)
.alert-sm {
  padding: 0.5rem 0.75rem;
  font-size: 0.875em;
}

// ADDED: Responsive list group styles (moved from _animations.scss)
@media (max-width: 576px) {
  .list-group-item {
    .d-flex.flex-wrap {
      margin-bottom: 0.75rem !important;
    }
    .ms-4 { // Consider replacing with Bootstrap's margin utilities if possible
      margin-left: 1rem !important;
    }
    .badge {
      font-size: 0.75rem;
    }
  }
}